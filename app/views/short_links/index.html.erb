<div class="container py-5" style="max-width: 960px;">
  <h1 class="fw-bold text-center text-light mb-1">ðŸ”¥ Latest 100 Guest Links</h1>
  <p class="text-center text-light small mb-4">
    These are the most recent public links created by guests using Momly.
  </p>

  <% if @short_links.any? %>
    <ul class="list-group">
      <%= render partial: "public_link_item", collection: @short_links, as: :link %>
    </ul>
  <% else %>
    <div class="text-center text-muted py-5">No public links found.</div>
  <% end %>
</div>

<script nonce="<%= content_security_policy_nonce %>">
  function copyToClipboard(text, btn) {
    navigator.clipboard.writeText(text).then(() => {
      const icon = btn.querySelector("i");
      const original = btn.innerHTML;
      btn.innerHTML = '<i class="bi bi-check-circle me-1"></i> Copied!';
      btn.classList.remove("btn-outline-primary");
      btn.classList.add("btn-success");
      setTimeout(() => {
        btn.innerHTML = original;
        btn.classList.add("btn-outline-primary");
        btn.classList.remove("btn-success");
      }, 1500);
    }).catch(err => {
      alert("Copy failed: " + err);
    });
  }
</script>
